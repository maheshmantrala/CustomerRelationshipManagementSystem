
<app-navbar></app-navbar>
<div class="dashboard-container">
    <!-- Header with Welcome Message -->
    <header class="header">
        <div class="welcome-message">
            <i class="fas fa-user-circle"></i> Welcome Govinda
          </div>
    </header>
  
    <!-- Main Content -->
    <div class="content">
      <div class="button-section">
        <button (click)="showForm('customer')">Add Customer Details</button>
        <button (click)="showForm('interaction')" [disabled]="!customerAdded">Add Interaction</button>
      </div>
  
      <div *ngIf="activeForm === 'customer'" class="form-section">
        <h2>Add Customer Details</h2>
        <form [formGroup]="customerForm" (ngSubmit)="onCustomerSubmit()">
          <div class="form-group">
            <label for="id">ID:</label>
            <input id="id" formControlName="id" type="number" />
            <div *ngIf="customerForm.get('id')?.invalid && (customerForm.get('id')?.touched || submitted)" class="error-message">
              ID is required.
            </div>
          </div>
          <div class="form-group">
            <label for="firstname">First Name:</label>
            <input id="firstname" formControlName="firstname" type="text" />
            <div *ngIf="customerForm.get('firstname')?.invalid && (customerForm.get('firstname')?.touched || submitted)" class="error-message">
              First Name is required.
            </div>
          </div>
          <div class="form-group">
            <label for="lastname">Last Name:</label>
            <input id="lastname" formControlName="lastname" type="text" />
            <div *ngIf="customerForm.get('lastname')?.invalid && (customerForm.get('lastname')?.touched || submitted)" class="error-message">
              Last Name is required.
            </div>
          </div>
          <div class="form-group">
            <label for="phoneNumber">Phone Number:</label>
            <input id="phoneNumber" formControlName="phoneNumber" type="text" />
            <div *ngIf="customerForm.get('phoneNumber')?.invalid && (customerForm.get('phoneNumber')?.touched || submitted)" class="error-message">
              Phone Number is required.
            </div>
          </div>
          <div class="form-group">
            <label for="email">Email:</label>
            <input id="email" formControlName="email" type="email" />
            <div *ngIf="customerForm.get('email')?.invalid && (customerForm.get('email')?.touched || submitted)" class="error-message">
              Valid Email is required.
            </div>
          </div>
          <button type="submit" class="styled-button">Submit Details</button>

        </form>
        <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
      </div>
  
      <div *ngIf="activeForm === 'interaction'" class="form-section">
        <h2>Add Interaction</h2>
        <form [formGroup]="interactionForm" (ngSubmit)="onInteractionSubmit()">
          <div class="form-group">
            <label for="customerId">Customer ID:</label>
            <input id="customerId" formControlName="customerId" type="number" />
            <div *ngIf="interactionForm.get('customerId')?.invalid && (interactionForm.get('customerId')?.touched || submitted)" class="error-message">
              Customer ID is required.
            </div>
          </div>
          <div class="form-group">
            <label for="type">Type:</label>
            <select id="type" formControlName="type">
              <option value="" disabled>Select type</option>
              <option value="call">Call</option>
              <option value="email">Email</option>
            </select>
            <div *ngIf="interactionForm.get('type')?.invalid && (interactionForm.get('type')?.touched || submitted)" class="error-message">
              Interaction Type is required.
            </div>
          </div>
          <div class="form-group">
            <label for="description">Description:</label>
            <textarea id="description" formControlName="description"></textarea>
            <div *ngIf="interactionForm.get('description')?.invalid && (interactionForm.get('description')?.touched || submitted)" class="error-message">
              Description is required.
            </div>
          </div>
          <div class="form-group">
            <label for="details">Details:</label>
            <textarea id="details" formControlName="details"></textarea>
            <div *ngIf="interactionForm.get('details')?.invalid && (interactionForm.get('details')?.touched || submitted)" class="error-message">
              Details are required.
            </div>
          </div>
          <button type="submit" class="styled-button">Submit Interaction</button>

        </form>
        <div *ngIf="interactionMessage" class="success-message">{{ interactionMessage }}</div>
      </div>
    </div>
  
    <!-- Footer -->
    <footer class="footer">
      <p>&copy; 2024 Customer Relationship Management System.</p>
    </footer>
  </div>
  